<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:p="http://primefaces.org/ui"
      xmlns:f="http://xmlns.jcp.org/jsf/core">

    <h:head>
        <title>Cadastrar Etapas</title>
    </h:head>
    <h:body>
        <ui:include src = "Menu.xhtml"/>    
        <p:growl id="gro8" sticky="false" life="4000"/>
        <center>
            <h:form id="form3">
                <p:dataTable id="tabela" value="#{ControladorC.recuperarTodos()}" var="item" 
                             rowKey="#{item.cultura}" selectionMode="single" selection="#{ControladorC.selectedC}"> 

                    <p:column sortBy="#{item.cultura}" filterBy="#{item.cultura}">
                        <f:facet name="header">
                            Nome da Cultura:
                        </f:facet>
                        <h:outputText value="#{item.cultura}" />
                    </p:column>
                </p:dataTable> <br></br><br></br>

                <p:layoutUnit position = "center" >
                    <h:form>
                        <h3>Cadastrar Etapas</h3>
                        <p:panelGrid columns = "4">
                            <h:outputLabel for="et" value="Etapas:" />
                            <h:selectOneMenu id="e" value="#{servico.etapa}" >
                                <f:selectItem itemLabel="PREPARO DO SOLO" />
                                <f:selectItem itemLabel="PLANTIO"  />
                                <f:selectItem itemLabel="TRATOS CULTURAIS" />
                                <f:selectItem itemLabel="COLHEITA"  />
                                <f:selectItem itemLabel="COMERCIALIZAÇÃO"  /> 
                            </h:selectOneMenu>
                            <p:commandButton value = "Cadastrar Etapa" oncomplete = "painel3.show()"/>


                        </p:panelGrid>
                        <h3>Cadastrar Serviços</h3>
                        <p:panelGrid columns = "4">
                            <h:outputLabel for="et" value="Serviços:" />
                            <h:selectOneMenu id="e" value="#{servico.nomeServico}" >
                                <f:selectItem itemLabel=" aaaaaaaaaaaaaaaa" />
                                <f:selectItem itemLabel=" eeeeeeeeeeeeeeee"  />
                                <f:selectItem itemLabel="iiiiiiiiiiiiiiii" />
                                <f:selectItem itemLabel="ooooooooooooooo "  />
                                <f:selectItem itemLabel="uuuuuuuuuuuuuuuuu"  />
                            </h:selectOneMenu>
                            <p:commandButton value = "Cadastrar Serviço" oncomplete = "painel4.show()"/>
                        </p:panelGrid>
                        <br></br>
                        <p:panelGrid columns = "9">
                            <h:outputText value = "Novo Serviço: "/>
                            <p:inputText value = "#{servico.nomeServico}"/>
                            <p:commandButton value = "Cadastrar Novo Serviço" oncomplete = "painel4.show()"/>
                        </p:panelGrid>

                        <p:dialog id="dial3" appendToBody="true" closable="false" visible="false" widgetVar="painel3"
                                  resizable="false" modal="true">
                            <f:facet name = "header">
                                Deseja Realmente Fazer o Cadastro do Serviço?
                            </f:facet>
                            <div style="text-align: center;">
                                <p:commandButton value = "Sim" action = "#{ControladorS.adicionar(servico)}" oncomplete="painel3.hide()"/>
                                <p:commandButton value = "NÃO" oncomplete = "painel3.hide()"/>
                            </div>
                        </p:dialog>
                    </h:form>
                </p:layoutUnit>
            </h:form>    
        </center>
    </h:body>
</html>


